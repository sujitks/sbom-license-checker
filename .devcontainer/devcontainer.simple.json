{
    "name": "SBOM Scanner Simple Dev",
    "image": "mcr.microsoft.com/dotnet/sdk:9.0-alpine",
    
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/github-cli:1": {},
        "ghcr.io/devcontainers/features/node:1": {
            "version": "20"
        },
        "ghcr.io/devcontainers/features/python:1": {
            "version": "3.13"
        },
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            "enableNonRootDocker": "true"
        }
    },
    
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.vscode-json",
                "redhat.vscode-yaml",
                "ms-dotnettools.csharp",
                "ms-vscode.vscode-typescript-next",
                "ms-python.python",
                "ms-azuretools.vscode-docker",
                "GitHub.copilot",
                "GitHub.copilot-chat"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "files.eol": "\n"
            }
        }
    },
    
    "containerEnv": {
        "SBOM_OUTPUT_DIR": "/workspace/sbom-reports",
        "DOTNET_CLI_TELEMETRY_OPTOUT": "1",
        "DOTNET_SKIP_FIRST_TIME_EXPERIENCE": "1",
        "NODE_ENV": "development"
    },
    
    "postCreateCommand": [
        "bash", "-c", 
        "echo 'Setting up SBOM Scanner development environment...' && apk add --no-cache jq curl bash && dotnet tool install --global Microsoft.Sbom.DotNetTool && python3 -m pip install --user pip-licenses pipdeptree requests && npm install -g license-checker --silent && echo 'Development environment ready!'"
    ],
    
    "workspaceFolder": "/workspace",
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",
    
    "forwardPorts": [3000, 5000, 8080],
    "portsAttributes": {
        "3000": {
            "label": "Node.js App"
        },
        "5000": {
            "label": ".NET App"
        },
        "8080": {
            "label": "Python App"
        }
    },
    
    "remoteUser": "vscode"
}