{
    "name": "SBOM Scanner - Root User",
    "image": "ghcr.io/sujitks/sbom-scanner:latest",
    
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.vscode-json",
                "redhat.vscode-yaml",
                "ms-dotnettools.csharp",
                "ms-vscode.vscode-typescript-next",
                "ms-python.python",
                "ms-azuretools.vscode-docker"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "files.eol": "\n"
            }
        }
    },
    
    "containerEnv": {
        "SBOM_OUTPUT_DIR": "/workspace/sbom-reports",
        "DOTNET_CLI_TELEMETRY_OPTOUT": "1",
        "DOTNET_SKIP_FIRST_TIME_EXPERIENCE": "1",
        "PATH": "${PATH}:/usr/local/bin:/app:/root/.dotnet/tools"
    },
    
    "postCreateCommand": "echo 'Setting up SBOM commands...' && ln -sf /app/entrypoint.sh /usr/local/bin/sbom-scanner && ln -sf /app/entrypoint.sh /usr/local/bin/sbom && echo 'SBOM Scanner Ready!' && sbom-scanner --version",
    
    "workspaceFolder": "/workspace",
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",
    
    "forwardPorts": [3000, 5000, 8080],
    "portsAttributes": {
        "3000": {
            "label": "Node.js App"
        },
        "5000": {
            "label": ".NET App"  
        },
        "8080": {
            "label": "Python App"
        }
    },
    
    "remoteUser": "root",
    
    "initializeCommand": "docker pull ghcr.io/sujitks/sbom-scanner:latest",
    
    "shutdownAction": "stopContainer"
}